<h2>Overview</h2>
<p>
The Admin API contains endpoints for Collins administrative tasks.
</p>

<section id="api-admin-repopulate_solr-section">

<h2>Repopulate Solr</h2>

<table class="table table-condensed">
  <thead>
    <tr><td></td><td></td></tr>
  </thead>
  <tbody>
    <tr><th>Description</th><td>Trigger repopulation of the Solr index.  This does not normally need to be manually done, but useful for testing or after any database changes not done through Collins</td></tr>
    <tr><th>Request</th><td><code>GET /api/admin/solr</code></td></tr>
    <tr><th>Permission</th><td>controllers.AssetApi.createAsset</td></tr>
    <tr>
      <th>Parameters</th>
      <td>
        <table class="table table-hover table-condensed">
          <thead>
            <tr><td>Name</td><td>Type</td><td>Description</td></tr>
          </thead>
          <tbody>
            <tr>
              <th class="inlinecode">waitForCompletion</th>
              <td>Option[Boolean]</td>
              <td>True or false.  If true, the request will block until the reindexing is complete.  Otherwise the request will return immediately and reindexing will occur asynchronously.</td>
            </tr>
          </tbody>
        </table>
      </td>
    </tr>
    <tr>
      <th>Response Codes</th>
      <td>
        <table class="table-hover table-condensed">
          <thead>
            <tr><td>Code</td><td>Reason</td></tr>
          </thead>
          <tbody>
            <tr>
              <th class="inlinecode">200</th>
              <td>Reindexing complete (if waitForCompletion) or reindexing begun</td>
            </tr>
          </tbody>
        </table>
      </td>
    </tr>
  </tbody>
</table>

<div class="example collins-shell">
collins-shell admin create --tag=TAG [--ipmi=(true|false) --status=STATUS --type=TYPE]
</div>

<div class="example curl">
curl --basic -u blake:admin:first http://localhost:9000/api/admin/solr
</div>

<div class="accordion" id="asset-create-response">
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#asset-create-response" href="#asset-create-json-response">JSON Response</a>
    </div>
    <div id="asset-create-json-response" class="accordion-body collapse">
      <div class="accordion-inner">
        <pre>OK</pre>
      </div>
    </div>
  </div>
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#asset-create-response" href="#asset-create-bash-response">Bash Response</a>
    </div>
    <div id="asset-create-bash-response" class="accordion-body collapse">
      <div class="accordion-inner">
        <pre>OK</pre>
      </div>
    </div>
  </div>
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#asset-create-response" href="#asset-create-text-response">Text Response</a>
    </div>
    <div id="asset-create-text-response" class="accordion-body collapse">
      <div class="accordion-inner">
        <pre>OK</pre>
      </div>
    </div>
  </div>

</div> <!-- accordion -->

</section>
