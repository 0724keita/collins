@(assetMeta: Seq[AssetMeta])(implicit flash: Flash)

@import helper._
@import util.notice
@import _root_.util.Disk

@diskOptions(asset: AssetMeta) = {
  <select name="@asset.name" id="@asset.name">
    <option value="" selected="selected"></option>
    @Disk.Type.values.toSeq.map { v =>
    <option value="@v.toString">@v.toString</option>
    }
  </select>
  <span class="help-inline">@asset.description</span>
}

@main("Asset Search") {
<div class="page-header"><h1>Asset Search</h1></div>
<div class="row">
  <div class="span14">

    @notice("message", Some("notice"))
    @notice("success")
    @notice("error")

    @form(app.routes.Resources.find(0,10,"DESC")) {
    <div class="clearfix">
      <label for="ASSET_TAG">Asset Tag</label>
      <div class="input">
        <input type="text" class="focus" id="ASSET_TAG" name="ASSET_TAG">
        <span class="help-inline">Tumblr Asset Tag</span>
      </div>
    </div>
    @assetMeta.map { case(asset) =>
    <div class="clearfix">
      <label for="@asset.name">@asset.label</label>
      <div class="input">
        @if(asset.name=="DISK_TYPE") {
        @diskOptions(asset)
        } else {
        <input type="text" id="@asset.name" name="@asset.name">
        <span class="help-inline">@asset.description</span>
        }
      </div>
    </div>
    }
    <div class="actions">
      <input type="submit" class="btn primary" value="Search">
      <button type="reset" class="btn">Reset</button>
    </div>
    }
  </div>
</div>
}
